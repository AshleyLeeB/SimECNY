# 钱包注销数据模拟

## 概述
本项目模拟了数字人民币钱包的注销数据，包含1000个钱包的注销记录。

## 数据字段说明
- `wallet_id`: 钱包编号 (14位字符串)
- `zs_id`: 注销流水号 (格式: ZS000001-ZS001000)
- `zs_channel`: 注销渠道
  - IS01: 柜面 (30%)
  - IS02: APP自助渠道 (10%)
  - IS04: 网银 (50%)
  - IS05: 其他安全渠道 (10%)
- `zs_timestamp`: 注销时间 (基于最后一次交易时间后1-168小时)
- `wallet_open_tel`: 电话号码
- `is_zs_laundering`: 是否为风险账号 (0: 正常, 1: 风险)

## 风险判断逻辑
风险账号的判断基于以下特征：
1. **交易频率**: 每天超过1笔交易增加风险评分
2. **交易对手多样性**: 超过5个不同对手增加风险评分
3. **钱包存续时间**: 少于90天增加风险评分
4. **手机号历史**: 基于该手机号在accounts_distribution_based.csv中的开户数量
   - 超过3个账户: 高风险
   - 2-3个账户: 中等风险
   - 1个账户: 低风险
5. **随机因素**: 增加随机性使分布更真实

## 生成的文件
1. `wallet_close_data.csv`: 钱包注销数据
2. `wallet_close_params.json`: 模拟参数配置
3. `wallet_close_analysis.json`: 数据分析结果
4. `phone_history_analysis.json`: 手机号历史分析结果
5. `generate_wallet_close_data.py`: 数据生成脚本
6. `analyze_wallet_close_data.py`: 数据分析脚本
7. `phone_history_analysis.py`: 手机号历史分析脚本

## 数据统计
- 总钱包数: 1000
- 风险钱包: 496 (49.6%)
- 正常钱包: 504 (50.4%)
- 时间跨度: 6天 (2025-10-16 到 2025-10-23)

## 渠道分布
- IS04 (网银): 503个 (50.3%)
- IS01 (柜面): 275个 (27.5%)
- IS05 (其他): 113个 (11.3%)
- IS02 (APP): 109个 (10.9%)

## 风险钱包特征
- 风险钱包更倾向于使用网银渠道 (53.1% vs 48.9%)
- 风险钱包的注销时间相对较早
- 风险钱包在柜面渠道的比例也较高 (28.9% vs 26.8%)

## 使用方法
1. 运行 `python generate_wallet_close_data.py` 生成数据
2. 运行 `python analyze_wallet_close_data.py` 分析数据
3. 查看生成的CSV文件和JSON配置文件

## 参数调整
可以通过修改 `wallet_close_params.json` 来调整：
- 总钱包数量
- 风险钱包比例
- 渠道分布比例
- 风险判断阈值
- 时间偏移范围
